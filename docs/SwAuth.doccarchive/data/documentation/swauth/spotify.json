{"primaryContentSections":[{"kind":"declarations","declarations":[{"tokens":[{"kind":"keyword","text":"final"},{"kind":"text","text":" "},{"kind":"keyword","text":"class"},{"kind":"text","text":" "},{"kind":"identifier","text":"Spotify"}],"languages":["swift"],"platforms":["macOS"]}]},{"kind":"content","content":[{"anchor":"overview","level":2,"type":"heading","text":"Overview"},{"type":"paragraph","inlineContent":[{"type":"reference","isActive":true,"identifier":"https:\/\/developer.spotify.com\/documentation\/web-api\/reference\/#\/"}]},{"type":"paragraph","inlineContent":[{"type":"text","text":"Inherits from "},{"type":"reference","isActive":true,"identifier":"doc:\/\/SwAuth\/documentation\/SwAuth\/PKCEAuthorizationFlow"},{"type":"text","text":"."}]},{"type":"paragraph","inlineContent":[{"type":"text","text":"See "},{"type":"reference","isActive":true,"identifier":"doc:\/\/SwAuth\/documentation\/SwAuth\/Spotify\/init(clientID:redirectURI:keychain:scopes:)"},{"type":"text","text":"  for initialization."}]},{"anchor":"Getting-Started","level":2,"type":"heading","text":"Getting Started"},{"type":"paragraph","inlineContent":[{"type":"text","text":"To use Spotify, first create an instance of Keychain and then create an instance of Spotify by filling in your apps documentation. You can create an app on your "},{"type":"reference","isActive":true,"identifier":"https:\/\/developer.spotify.com\/dashboard\/applications"},{"type":"text","text":"."}]},{"type":"codeListing","syntax":"swift","code":["let keychain = Keychain(service: \"com.your.bundleID\",","                        accessGroup: \"appIdentifierPrefix.com.your.bundleID\").label(\"Your App Name\")","","let spotify = Spotify(clientID: \"YourClientID\",","                      redirectURI: \"callbackURI:\/\/\", \/\/ Make sure this is the same as you set on your developer dashboard","                      keychain: keychain,","                      scopes: \"user-follow-modify\")"]},{"type":"paragraph","inlineContent":[{"type":"text","text":"I can now get the authorization URL my user will follow like so:"}]},{"type":"codeListing","syntax":"swift","code":["let authURL = spotify.authorizationURL"]},{"type":"paragraph","inlineContent":[{"type":"text","text":"SwiftUI users, I recommend using "},{"type":"reference","isActive":true,"identifier":"https:\/\/github.com\/stleamist\/BetterSafariView"},{"type":"text","text":" ASWebAuthenticationSession for following the authorization URL."}]},{"type":"paragraph","inlineContent":[{"type":"text","text":"Assuming the user authorizes your application, pass the callback URL into "},{"type":"reference","isActive":true,"identifier":"doc:\/\/SwAuth\/documentation\/SwAuth\/PKCEAuthorizationFlow\/authorizationResponseHandler(for:)"},{"type":"text","text":" (but of course take into account proper error handling):"}]},{"type":"codeListing","syntax":"swift","code":["try await spotify.authorizationResponseHandler(for: callbackURL)"]},{"type":"paragraph","inlineContent":[{"type":"text","text":"Assuming no errors were thrown, you can now successfully make an authorized HTTP request to the endpoint of your choice and print the resulting JSON:"}]},{"type":"codeListing","syntax":"swift","code":["let request = HTTPRequest(endpoint: URL(string: \"https:\/\/api.spotify.com\/v1\/browse\/new-releases\")!)","","let response = try await spotify.authenticatedRequest(for: request)","","\/\/ Assuming no errors were thrown","print(response.json())"]}]}],"schemaVersion":{"major":0,"minor":1,"patch":0},"sections":[],"variants":[{"paths":["\/documentation\/swauth\/spotify"],"traits":[{"interfaceLanguage":"swift"}]}],"relationshipsSections":[{"identifiers":["doc:\/\/SwAuth\/documentation\/SwAuth\/PKCEAuthorizationFlow"],"kind":"relationships","title":"Inherits From","type":"inheritsFrom"},{"identifiers":["doc:\/\/SwAuth\/documentation\/SwAuth\/Swauthable"],"kind":"relationships","title":"Conforms To","type":"conformsTo"}],"identifier":{"url":"doc:\/\/SwAuth\/documentation\/SwAuth\/Spotify","interfaceLanguage":"swift"},"abstract":[{"type":"text","text":"Spotify’s Web API."}],"kind":"symbol","metadata":{"fragments":[{"kind":"keyword","text":"class"},{"kind":"text","text":" "},{"kind":"identifier","text":"Spotify"}],"title":"Spotify","roleHeading":"Class","role":"symbol","symbolKind":"class","externalID":"s:6SwAuth7SpotifyC","modules":[{"name":"SwAuth"}],"navigatorTitle":[{"kind":"identifier","text":"Spotify"}]},"hierarchy":{"paths":[["doc:\/\/SwAuth\/documentation\/SwAuth"]]},"topicSections":[{"title":"Initialization","identifiers":["doc:\/\/SwAuth\/documentation\/SwAuth\/Spotify\/init(clientID:redirectURI:keychain:scopes:)"]},{"title":"Handle the Callback","identifiers":["doc:\/\/SwAuth\/documentation\/SwAuth\/PKCEAuthorizationFlow\/authorizationResponseHandler(for:)"]}],"references":{"doc://SwAuth/documentation/SwAuth/Spotify":{"role":"symbol","title":"Spotify","fragments":[{"kind":"keyword","text":"class"},{"kind":"text","text":" "},{"kind":"identifier","text":"Spotify"}],"abstract":[{"type":"text","text":"Spotify’s Web API."}],"identifier":"doc:\/\/SwAuth\/documentation\/SwAuth\/Spotify","kind":"symbol","type":"topic","navigatorTitle":[{"kind":"identifier","text":"Spotify"}],"url":"\/documentation\/swauth\/spotify"},"doc://SwAuth/documentation/SwAuth/Swauthable":{"role":"symbol","title":"Swauthable","fragments":[{"kind":"keyword","text":"protocol"},{"kind":"text","text":" "},{"kind":"identifier","text":"Swauthable"}],"abstract":[{"type":"text","text":"All of the authorization flows ("},{"type":"reference","isActive":true,"identifier":"doc:\/\/SwAuth\/documentation\/SwAuth\/AuthorizationCodeFlow"},{"type":"text","text":", "},{"type":"reference","isActive":true,"identifier":"doc:\/\/SwAuth\/documentation\/SwAuth\/PKCEAuthorizationFlow"},{"type":"text","text":","},{"type":"text","text":" "},{"type":"reference","isActive":true,"identifier":"doc:\/\/SwAuth\/documentation\/SwAuth\/DeviceAuthorizationFlow"},{"type":"text","text":") conform to this protocol."}],"identifier":"doc:\/\/SwAuth\/documentation\/SwAuth\/Swauthable","kind":"symbol","type":"topic","navigatorTitle":[{"kind":"identifier","text":"Swauthable"}],"url":"\/documentation\/swauth\/swauthable"},"doc://SwAuth/documentation/SwAuth":{"role":"collection","title":"SwAuth","abstract":[{"type":"text","text":"Easily send OAuth 2.0 authorized HTTP requests with async\/await in Swift."}],"identifier":"doc:\/\/SwAuth\/documentation\/SwAuth","kind":"symbol","type":"topic","url":"\/documentation\/swauth"},"doc://SwAuth/documentation/SwAuth/DeviceAuthorizationFlow":{"role":"symbol","title":"DeviceAuthorizationFlow","fragments":[{"kind":"keyword","text":"class"},{"kind":"text","text":" "},{"kind":"identifier","text":"DeviceAuthorizationFlow"}],"abstract":[{"type":"text","text":"The Device Authorization Grant extension to the OAuth 2.0 Authorization Code Grant according to to"},{"type":"text","text":" "},{"type":"text","text":"RFC 8628."}],"identifier":"doc:\/\/SwAuth\/documentation\/SwAuth\/DeviceAuthorizationFlow","kind":"symbol","type":"topic","navigatorTitle":[{"kind":"identifier","text":"DeviceAuthorizationFlow"}],"url":"\/documentation\/swauth\/deviceauthorizationflow"},"https://developer.spotify.com/documentation/web-api/reference/#/":{"title":"Spotify reference documentation","titleInlineContent":[{"type":"text","text":"Spotify reference documentation"}],"type":"link","identifier":"https:\/\/developer.spotify.com\/documentation\/web-api\/reference\/#\/","url":"https:\/\/developer.spotify.com\/documentation\/web-api\/reference\/#\/"},"doc://SwAuth/documentation/SwAuth/Spotify/init(clientID:redirectURI:keychain:scopes:)":{"role":"symbol","title":"init(clientID:redirectURI:keychain:scopes:)","fragments":[{"kind":"keyword","text":"convenience"},{"kind":"text","text":" "},{"kind":"identifier","text":"init"},{"kind":"text","text":"("},{"kind":"externalParam","text":"clientID"},{"kind":"text","text":": "},{"kind":"typeIdentifier","text":"String","preciseIdentifier":"s:SS"},{"kind":"text","text":", "},{"kind":"externalParam","text":"redirectURI"},{"kind":"text","text":": "},{"kind":"typeIdentifier","text":"String","preciseIdentifier":"s:SS"},{"kind":"text","text":", "},{"kind":"externalParam","text":"keychain"},{"kind":"text","text":": "},{"kind":"typeIdentifier","text":"Keychain","preciseIdentifier":"s:14KeychainAccess0A0C"},{"kind":"text","text":", "},{"kind":"externalParam","text":"scopes"},{"kind":"text","text":": "},{"kind":"typeIdentifier","text":"String","preciseIdentifier":"s:SS"},{"kind":"text","text":")"}],"abstract":[{"type":"text","text":"Initializes an instance of Spotify."}],"identifier":"doc:\/\/SwAuth\/documentation\/SwAuth\/Spotify\/init(clientID:redirectURI:keychain:scopes:)","kind":"symbol","type":"topic","url":"\/documentation\/swauth\/spotify\/init(clientid:redirecturi:keychain:scopes:)"},"doc://SwAuth/documentation/SwAuth/PKCEAuthorizationFlow":{"role":"symbol","title":"PKCEAuthorizationFlow","fragments":[{"kind":"keyword","text":"class"},{"kind":"text","text":" "},{"kind":"identifier","text":"PKCEAuthorizationFlow"}],"abstract":[{"type":"text","text":"The Proof Key for Code Exchange (PKCE) extension to the OAuth 2.0 Authorization Code Grant according to"},{"type":"text","text":" "},{"type":"text","text":"RFC 7636."}],"identifier":"doc:\/\/SwAuth\/documentation\/SwAuth\/PKCEAuthorizationFlow","kind":"symbol","type":"topic","navigatorTitle":[{"kind":"identifier","text":"PKCEAuthorizationFlow"}],"url":"\/documentation\/swauth\/pkceauthorizationflow"},"doc://SwAuth/documentation/SwAuth/PKCEAuthorizationFlow/authorizationResponseHandler(for:)":{"role":"symbol","title":"authorizationResponseHandler(for:)","fragments":[{"kind":"keyword","text":"func"},{"kind":"text","text":" "},{"kind":"identifier","text":"authorizationResponseHandler"},{"kind":"text","text":"("},{"kind":"externalParam","text":"for"},{"kind":"text","text":": "},{"kind":"typeIdentifier","text":"Response","preciseIdentifier":"s:6SwAuth8ResponseP"},{"kind":"text","text":") "},{"kind":"keyword","text":"async"},{"kind":"text","text":" "},{"kind":"keyword","text":"throws"}],"abstract":[{"type":"text","text":"Handles the callback URL from an ASWebAuthenticationSession"},{"type":"text","text":" "},{"type":"text","text":"and sends a HTTP request to the initialized token endpoint for the tokens."}],"identifier":"doc:\/\/SwAuth\/documentation\/SwAuth\/PKCEAuthorizationFlow\/authorizationResponseHandler(for:)","kind":"symbol","type":"topic","url":"\/documentation\/swauth\/pkceauthorizationflow\/authorizationresponsehandler(for:)"},"https://developer.spotify.com/dashboard/applications":{"title":"Spotify developer dashboard","titleInlineContent":[{"type":"text","text":"Spotify developer dashboard"}],"type":"link","identifier":"https:\/\/developer.spotify.com\/dashboard\/applications","url":"https:\/\/developer.spotify.com\/dashboard\/applications"},"doc://SwAuth/documentation/SwAuth/AuthorizationCodeFlow":{"role":"symbol","title":"AuthorizationCodeFlow","fragments":[{"kind":"keyword","text":"class"},{"kind":"text","text":" "},{"kind":"identifier","text":"AuthorizationCodeFlow"}],"abstract":[{"type":"text","text":"The OAuth 2.0 Authorization Code Grant according to RFC 6749\/6750."}],"identifier":"doc:\/\/SwAuth\/documentation\/SwAuth\/AuthorizationCodeFlow","kind":"symbol","type":"topic","navigatorTitle":[{"kind":"identifier","text":"AuthorizationCodeFlow"}],"url":"\/documentation\/swauth\/authorizationcodeflow"},"https://github.com/stleamist/BetterSafariView":{"title":"BetterSafariView’s","titleInlineContent":[{"type":"text","text":"BetterSafariView’s"}],"type":"link","identifier":"https:\/\/github.com\/stleamist\/BetterSafariView","url":"https:\/\/github.com\/stleamist\/BetterSafariView"}}}